<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <script type="text/javascript" src="../internal.js"></script>
</head>
<body>
<div style="border: 1px solid #d7d7d7;">
<iframe src="../../netdisk/netdisk_attchment.php" width="100%" height="360" frameborder="no"></iframe>
</div>
 
<script type="text/javascript">
	var filesList=[];
    dialog.onok = function (){
        var map = fileTypeMaps,
        str="";
    for(var i=0,ci;ci=filesList[i++];){
        var src = editor.options.UEDITOR_HOME_URL + "dialogs/attachment/fileTypeImages/"+(map[ci.type]||"icon_default.png");
        str += "<p style='line-height: 16px;'><img src='"+ src + "' data_ue_src='"+src+"' />" +
               "<a href='"+ ci.url+"'>" + ci.original + "</a></p>";
    }
    editor.execCommand("insertHTML",str);
    };
    var fileTypeMaps = {
    	    ".rar":"icon_rar.gif",
    	    ".zip":"icon_rar.gif",
    	    ".doc":"icon_doc.gif",
    	    ".docx":"icon_doc.gif",
    	    ".pdf":"icon_pdf.gif",
    	    ".mp3":"icon_mp3.gif",
    	    ".xls":"icon_xls.gif",
    	    ".xlsx":"icon_xls.gif",
    	    ".chm":"icon_chm.gif",
    	    ".ppt":"icon_ppt.gif",
    	    ".pptx":"icon_ppt.gif",
    	    ".avi":"icon_mv.gif",
    	    ".rmvb":"icon_mv.gif",
    	    ".wmv":"icon_mv.gif",
    	    ".flv":"icon_mv.gif",
    	    ".swf":"icon_mv.gif",
    	    ".rm":"icon_mv.gif",
    	    ".exe":"icon_exe.gif",
    	    ".psd":"icon_psd.gif",
    	    ".png":"icon_psd.gif",
    	    ".gif":"icon_psd.gif",
    	    ".txt":"icon_txt.gif"
    	};
    Array.prototype.removeByValue = function(val) {
    	for (var i = 0; i < this.length; i++) {
    		if (this[i].url == val) {
    			this.splice(i, 1);
    			break;
    		}
    	}
    }
</script>
</body>
</html>